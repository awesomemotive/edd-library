---
layout: snippet
title: Include Subscriptions in API
description: Include EDD Subscription payments in the /edd-api/sales endpoint
collection: extensions
category: recurring-payments
---

<?php
/*
 * Plugin Name: Easy Digital Downloads - Include Subscriptions in API
 * Description: Include EDD Subscription payments in the /edd-api/sales endpoint
 * Author: Easy Digital Downloads
 * Author URI: https://easydigitaldownloads.com/
 * Version: 1.0
 */

function pw_edd_recurring_include_payments_in_api( $query ) {
  
  if( ! defined( 'EDD_DOING_API' ) || ! EDD_DOING_API ) {
    return;
  }

  $query->__set( 'post_status', array( 'publish', 'complete', 'edd_subscription' ) );

}
add_action( 'edd_pre_get_payments', 'pw_edd_recurring_include_payments_in_api', 100 );
